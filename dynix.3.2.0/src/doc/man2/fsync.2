.\" $Copyright:	$
.\" Copyright (c) 1984, 1985, 1986, 1987, 1988, 1989, 1990 
.\" Sequent Computer Systems, Inc.   All rights reserved.
.\"  
.\" This software is furnished under a license and may be used
.\" only in accordance with the terms of that license and with the
.\" inclusion of the above copyright notice.   This software may not
.\" be provided or otherwise made available to, or used by, any
.\" other person.  No title to or ownership of the software is
.\" hereby transferred.
...
.V= $Header: fsync.2 1.7 86/05/13 $
.TH FSYNC 2 "\*(V)" "4BSD"
.SH NAME
fsync \- synchronize a file's in-core state with that on disk
.SH SYNOPSIS
.ft 3
fsync(fd)
.br
int fd;
.ft 1
.SH DESCRIPTION
.I Fsync
causes all modified data and attributes of \f2fd\fP
to be moved to a permanent storage device.
This normally results in all in-core modified copies
of buffers for the associated file to be written to a disk.
.PP
.I Fsync
should be used by programs which require a file to be
in a known state; for example in building a simple transaction
facility.
.SH "RETURN VALUE
A 0 value is returned on success.  A \-1 value indicates
an error.
.SH "ERRORS
The \f2fsync\fP fails if:
.TP 15
[EBADF]
\f2Fd\fP is not a valid descriptor.
.TP 15
[EINVAL]
\f2Fd\fP refers to a socket, not to a file.
.TP 15
[EIO]
An I/O error occurred while reading from or writing to the file system.
.SH "SEE ALSO"
sync(2), sync(8), update(8)
.SH BUGS
The current implementation of this call is expensive for large files.
